<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    
    <object th:include="~{fragments/common :: js}" th:remove="tag"></object>
    <object th:include="~{fragments/common :: css}" th:remove="tag"></object>

    <link rel="stylesheet" href="/css/global-final.css" />
    <link rel="stylesheet" href="/css/asset.css"/>
  </head>

  <style>
    .content-container {
        width: 100%;
        position: relative;
        background-color: var(--white-white-1);
        overflow: hidden;
        height: 100%;  
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        align-items: center; 
    }

    .accordion-container {
        min-width: 85%;
        max-width: 85%;
    }

    .accordion {
        background-color: var(--blue-blue-2);
        border-radius: var(--br-xs);
        color: var(--white-white-1);
        padding: var(--padding-xl);
        gap: var(--gap-xl);
        /* min-width: 95%; */
        display: flex;
        box-sizing: border-box;
        justify-content: space-between;
    }
  
    .panel {
        background-color: var(--green-green-5);
        border-radius: var(--br-5xs);
        color: var(--white-white-1);
        padding: var(--padding-xl);
        gap: var(--gap-xl);

        display: none;
        overflow: hidden;
        box-sizing: border-box;
        justify-content: space-between;
    }

    .panel.active {
        display: block;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }

    .accordion.active {
        background-color: var(--green-green-5);
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    .chevron-rotate {
        transform: rotate(180deg);
    }

    .faq-person {
        width: auto;
        position: center;
        padding-left: 35px;
    }

    .question-form {
        font-family: var(--body-b2);
    }

    .faq-input {
        border: 2px solid var(--green-green-5); 
        outline: none; 
        border-radius: var(--br-5xs);
    }

    .faq-input:focus {
        border-color: var(--green-green-5); 
        box-shadow: 0 0 5px var(--green-green-5); 
    }

    .question-submit {
        color: var(--white-white-1);
        width: fit-content;
        border: 0;
        padding: 10.5px var(--padding-5xl);
        background-color: var(--green-green-1);
        border-radius: var(--br-xs);
        flex-direction: row;
    }

    .question-submit:hover {
        color: var(--white-white-1);
        background-color: var(--green-green-2);
    }

    .question-submit-row {
        display: flex;
        justify-content: flex-end;
    }

    .form-question {
        width: 85%; 
    }

    .search-bar {
        align-self: stretch;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 0 12px;
        flex-direction: column;
        align-items: center;
        gap: 24px 0;
        max-width: 100%;
	}

    .search-box {
        align-self: stretch;
        height: 48px;
        border-radius: var(--br-xs);
        background-color: var(--white-white-1);
        border: 2px solid var(--green-green-1);
        box-sizing: border-box;
        flex-direction: row;
        justify-content: flex-start;
        padding: var(--padding-5xs) var(--padding-5xl);
        gap: 0 8px;
        max-width: 100%;
        display: flex;
        align-items: center;
    }

    .ketik-kata-kunci {
        width: 330px;
        border: 0;
        outline: 0;
        font-family: var(--heading-h4);
        font-size: var(--body-b2-size);
        background-color: transparent;
        height: 19px;
        position: relative;
        color: var(--black-black-2);
        text-align: start;
        vertical-align: middle;
        justify-content: start;
        max-width: calc(100% - 32px);
        padding: 0;
    }

    .button-outline {
        cursor: pointer;
        border: 2px solid var(--green-green-1);
        padding: var(--padding-5xs) 22px;
        background-color: transparent;
        flex: 1;
        border-radius: var(--br-xs);
        box-sizing: border-box;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        max-width: 300px;
        min-height: 50px;
    }

    .button-outline:hover {
        background-color: rgba(54, 156, 122, 0.09);
        border: 2px solid var(--color-seagreen-100);
        box-sizing: border-box;
    }

    .button-outline-text {
        flex: 1;
        position: relative;
        font-size: var(--body-b2-size);
        font-weight: 600;
        font-family: var(--heading-h4);
        color: var(--green-green-1);
        text-align: center;
    }

  </style>

  <body>

    <nav th:replace="~{fragments/navbarLoggedIn :: navbarLoggedIn}"></nav>

    <div class="content-container">

        <b class="title-container">
            <span class="title-gradient">Forum</span>
            <span>Pertanyaan</span>
        </b>
    
        <nav th:replace="~{fragments/asset :: asset}"></nav>
    
        <br><br>

        <div class="search-bar" th:unless="${#lists.isEmpty(faqsTerjawab)}">
            <form th:action="@{/faq}" method="get">
                <div class="search-box">
                    <img class="search-icon" alt="" src="/images/search.svg" />
                    <input class="ketik-kata-kunci" placeholder="Cari pertanyaan..." type="text" name="search" />
                </div>
            </form>
        </div>

        <br><br><br>

        <div th:each="faq : ${faqsTerjawab}" class="accordion-container">
            <div class="accordion">
                <strong th:text="${faq.pertanyaan}"></strong>
                <img class="chevron" alt="Expand/collapse" src="/images/chevron-down.svg"/>
            </div>
            <div class="panel" th:text="${faq.jawaban}"></div>
            <br>
        </div>

        <br><br><br>

        <div class="row form-question">
            <div class="col-md-3" style="justify-content: center;">
                <div class="row">
                    <img class="faq-person img-fluid" src="/images/faq-person.svg"/>
                </div>
                <div class="row">
                    <a th:href="@{/faq/user-faq/terjawab}" style="color: #459a7d; margin-block: 10px; text-align: left; font-size: 18px;">Lihat Pertanyaan Saya</a>
                </div>
            </div>
            <form class="col-md-9 question-form" th:action="@{/faq/tanya}" th:object="${newFaq}" method="POST">
                <div class="row" th:unless="${#lists.isEmpty(faqsTerjawab)}">
                    <p style="padding-left: 0px;">Masih memiliki pertanyaan? Tidak dapat menemukan jawaban yang Anda cari?</p>
                </div>
                <div class="row" th:unless="${#lists.isEmpty(faqsTerjawab)}">
                    <p style="padding-left: 0px;">Silahkan kirimkan pertanyaan Anda kepada tim kami.</p>
                </div>
                <div class="row" th:if="${#lists.isEmpty(faqsTerjawab)}">
                    <p style="padding-left: 0px;">Belum ada pertanyaan yang sudah terjawab.</p>
                </div>
                <div class="row" th:if="${#lists.isEmpty(faqsTerjawab)}">
                    <p style="padding-left: 0px;">Jika ada yang ingin ditanyakan, silahkan kirimkan pertanyaan Anda kepada tim kami.</p>
                </div>
                <div class="row">
                    <textarea class="form-control faq-input" rows="4" th:field="*{pertanyaan}" placeholder="Type your question here" required></textarea>
                </div>
                <br>
                <div class="row question-submit-row" style="align-items: end;">
                   <button type="submit" class="btn btn-primary question-submit">Kirim pertanyaan</button>
                </div>
            </form>
        </div>

    </div>

    <br><br><br>

    <footer th:replace="~{fragments/footer :: footer}"></footer>

    <script>
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                panel.classList.toggle("active");
                var chevron = this.querySelector('.chevron');
                if (chevron) {
                    chevron.classList.toggle("chevron-rotate");
                }
            });
        }
    </script>

  </body>

</html>
