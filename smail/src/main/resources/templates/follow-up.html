<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <title>Input Arsip</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="/css/form-surat-masuk.css" />
    <link rel="stylesheet" href="/css/follow-up.css" />
    <link rel="stylesheet" href="/css/global-daftar-template.css" />
    <link rel="stylesheet" href="/css/global-surat-masuk.css" />
    <object th:include="~{fragments/common :: js}" th:remove="tag"></object>
    <object th:include="~{fragments/common :: css}" th:remove="tag"></object>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600&display=swap"
    />
  </head>

  <body>
    <nav th:replace="~{fragments/navbarLoggedIn :: navbarLoggedIn}"></nav>

    <div class="follow-up-surat">
      <img class="follow-up-surat-child" alt="" src="/images/kanan.svg" />

      <section class="button-container1">
        <img
          class="button-container-child"
          loading="lazy"
          alt=""
          src="/images/kiri.svg"
        />

        <div class="sub-header">
          <h1 class="follow-up-surat-container">
            <span class="follow-up1">Follow Up</span>
            <span> Surat</span>
          </h1>
        </div>
      </section>
      <section class="file-input2">
        <div class="frame-parent10">
          <div class="tambah-template2">
            <section class="attach-button">
              <div class="label-input-frame">
                <div class="label-frame">
                  <form
                    id="follow-up-form"
                    th:action="@{'/surat-masuk/follow-up/' + ${suratMasuk.nomorArsip}}"                    method="post"
                    enctype="multipart/form-data"
                  >
                    <br />
                    <div class="text-input-frame">
                      <div class="label8">Perihal</div>
                      <input
                        class="text-input14"
                        type="text"
                        id="perihal"
                        name="perihal"
                        required
                      />
                    </div>

                    <br />
                    <div class="text-input-frame">
                      <div class="label8">Penerima Eksternal</div>
                      <input
                        class="text-input14"
                        type="text"
                        id="penerimaEksternal"
                        name="penerimaEksternal"
                        required
                      />
                    </div>

                    <br /><br /><br />
                    <div class="form-group">
                      <div class="upload-illustration-frame">
                        <div class="file-input">
                          <div class="secondary-message">secondary message</div>
                          <div class="rectangle-frame">
                            <div class="arsip-surat-frame">
                              <div class="button-frame1">
                                <label class="upload-illustration" for="file">
                                  <div class="chevrondown-icon">
                                    <div class="wrapper-group">
                                      <img
                                        class="group-icon"
                                        alt=""
                                        src="/images/upload-atas.svg"
                                      />
                                    </div>
                                    <img
                                      class="chevrondown-icon-child"
                                      alt=""
                                      src="/images/upload.svg"
                                    />

                                    <img
                                      class="chevrondown-icon-item"
                                      loading="lazy"
                                      alt=""
                                      src="/images/upload-kanan.svg"
                                    />
                                  </div>
                                  <img
                                    class="upload-illustration-child"
                                    alt=""
                                    src="/images/upload-kiri.svg"
                                  />
                                </label>
                                <input
                                  type="file"
                                  class="custom-file-input"
                                  id="file"
                                  name="file"
                                  required
                                />
                              </div>
                              <h3 class="upload-file-kamu-container">
                                <span>Upload</span>
                                <span class="file-kamu-di">
                                  file kamu di sini (Max. 2MB)</span
                                >
                              </h3>
                              <span class="file-name"></span>
                              <br />
                              <br />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      class="text-input"
                      style="margin-top: 50px; margin-bottom: 50px"
                    >
                      <div
                        class="disclosure"
                        id="disclosure"
                        onclick="toggleDropdown()"
                      >
                        <div class="disclosure-header">
                          <div class="body-14pt2" id="selected-option">
                            Pilih Pengurus Yayasan
                          </div>
                          <img
                            class="iconsolidchevron-down"
                            alt=""
                            src="/images/chevron-down-dark.svg"
                          />
                        </div>
                      </div>
                      <div class="disclosure disclosure-content">
                        <!-- dropdown items -->
                        <div class="dropdown-items">
                          <div
                            th:each="pengguna : ${penandatangan}"
                            th:text="${pengguna.nama}"
                            th:value="${pengguna.id}"
                            onclick="changeText(this); toggleDropdown();"
                          ></div>
                        </div>
                      </div>
                    </div>
                    <input
                      type="hidden"
                      id="penandatangan"
                      name="penandatangan"
                    />
                    <div
                      class="button33"
                      onclick="submitForm()"
                    >
                      <div class="simpan1">Simpan</div>
                    </div>
                  </form>
                </div>
              </div>
            </section>
          </div>
        </div>
      </section>
    </div>

    <footer th:replace="~{fragments/footer :: footer}"></footer>

    <script>
      document.getElementById("file").addEventListener("change", function () {
        var fileName = this.files[0].name;
        document.querySelector(".file-name").textContent = fileName;
      });

      function toggleDropdown() {
        var disclosureContent = document.querySelector(".disclosure-content");
        disclosureContent.classList.toggle("open");
      }
      // Fungsi untuk mengubah teks pada elemen yang sesuai dengan opsi yang dipilih
      function changeText(option) {
        var selectedText = option.textContent;
        document.getElementById("selected-option").textContent = selectedText;
        document.getElementById("penandatangan").value = option.getAttribute("value");

      }
      function submitForm() {
        document.getElementById("follow-up-form").submit();
      }
    </script>
  </body>
</html>
